# Argazer Configuration Example
# Copy this file to config.yaml and modify as needed

# ============================================================================
# SECURITY WARNING: DO NOT COMMIT CREDENTIALS TO VERSION CONTROL!
# ============================================================================
# Use environment variables for credentials in production:
#   export AG_ARGOCD_URL="argocd.example.com"
#   export AG_ARGOCD_USERNAME="admin"
#   export AG_ARGOCD_PASSWORD="secret"
#
# Config file credentials should only be used for local development.
# Make sure config.yaml is in your .gitignore!
# ============================================================================

# ArgoCD Connection Settings
argocd_url: "https://argocd.example.com"
argocd_username: "admin"
argocd_password: "password"  # USE ENVIRONMENT VARIABLE INSTEAD!
argocd_insecure: false  # Set to true to skip TLS verification

# Search Scope
# Use ["*"] to match all, or specify a list of specific values
projects:
  - "*"  # Check all projects, or specify: ["project1", "project2"]

app_names:
  - "*"  # Check all apps, or specify: ["app1", "app2"]

# Label filters (optional)
labels:
  # environment: "production"
  # team: "platform"

# Notification Channel
# Options: "telegram", "email", "slack", "teams", "webhook", or leave empty for console-only output
notification_channel: ""  # "telegram" | "email" | "slack" | "teams" | "webhook" | ""

# Telegram Settings (required if notification_channel is "telegram")
telegram_webhook: "https://api.telegram.org/botTOKEN/sendMessage"
telegram_chat_id: "123456789"

# Email Settings (required if notification_channel is "email")
email_smtp_host: "smtp.gmail.com"
email_smtp_port: 587
email_smtp_username: "your-email@gmail.com"
email_smtp_password: "your-app-password"
email_from: "argazer@example.com"
email_to:
  - "devops@example.com"
  - "team@example.com"
email_use_tls: true

# Slack Settings (required if notification_channel is "slack")
slack_webhook: "https://hooks.slack.com/services/YOUR/WEBHOOK/URL"

# Microsoft Teams Settings (required if notification_channel is "teams")
teams_webhook: "https://outlook.office.com/webhook/YOUR/WEBHOOK/URL"

# Generic Webhook Settings (required if notification_channel is "webhook")
# Sends a JSON payload with "subject" and "message" fields
webhook_url: "https://your-webhook-endpoint.example.com/notify"

# General Settings
verbose: false
source_name: "chart-repo"  # For multi-source applications
concurrency: 10  # Number of concurrent workers for checking applications

# Version Constraint Strategy
# Controls which version updates to check for
# - "major": Check all versions (default) - any major, minor, or patch updates
# - "minor": Only check same major version - minor and patch updates only
# - "patch": Only check same major.minor - patch updates only
version_constraint: "major"

# Output Format
# Controls how application check results are displayed
# - "table": Human-readable formatted text output (default)
# - "json": JSON structured output for programmatic processing
# - "markdown": Markdown formatted output for documentation
output_format: "table"

# Log Format
# Controls the format of application logs (not the scan results)
# - "json": Structured JSON logs for production/parsing (default)
# - "text": Human-readable text logs for development/debugging
log_format: "json"

# Repository Authentication (optional)
# WARNING: DO NOT store credentials here in production!
# Use environment variables instead:
#   export AG_AUTH_URL_1="harbor.company.com"
#   export AG_AUTH_USER_1="myuser"
#   export AG_AUTH_PASS_1="mypassword"
repository_auth:
  # - url: "harbor.company.com"
  #   username: "myuser"
  #   password: "mypassword"  # USE ENVIRONMENT VARIABLE INSTEAD!
  # - url: "ghcr.io"
  #   username: "github-user"
  #   password: "ghp_token"  # USE ENVIRONMENT VARIABLE INSTEAD!
